	<!DOCTYPE html>  
      
    <html>  
        <head>  
            <title>Tillman's Pong</title>  
            <meta charset="utf-8">  
      
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>  
				
	  
            <script>  
			
		        $(document).ready(function() {  
                    
					//BEGIN LIBRARY CODE
					var x;
					var y;
					var dx;
					var dy;
					var WIDTH;
					var HEIGHT;
					var ctx;
					var paddlex;
					var paddley;
					var paddleh;
					var paddlew;
					var intervalId;
					var rightDown = false;
					var leftDown = false;
					var up = false;
					var down = false;
					var radius;
					var paddlexAI;
					var count;
					var currColor;
					var bulletW = 8;
					var bulletH = 12;
					var bullets = [];
					var bulletDY = 3;
					var bulletFired = false;
					
					var canvas = document.getElementById( 'myCanvas' );
									
					//set rightDown or leftDown if the right or left keys are down
					function onKeyDown(evt) {
					  if (evt.keyCode == 39) rightDown = true;
					  else if (evt.keyCode == 37) leftDown = true;
					  else if (evt.keyCode == 38) up = true;
					  else if (evt.keyCode == 40) down = true;
					  else if (evt.keyCode == 32) fire_bullet();
					}
					
					//and unset them when the right or left key is released
					function onKeyUp(evt) {
					  if (evt.keyCode == 39) rightDown = false;
					  else if (evt.keyCode == 38) up = false;
					  else if (evt.keyCode == 40) down = false;
					  else if (evt.keyCode == 37) leftDown = false;
					}
					
					$(document).keydown(onKeyDown);
					$(document).keyup(onKeyUp);
	
					function init_paddles() {
						paddlex = WIDTH / 2;
						paddlexAI = paddlex;
						paddleh = 10;
						paddlew = 75;
						paddley = HEIGHT - paddleh;
						
					}
					
					 

					function init() {
					  ctx = canvas.getContext("2d");  
					  WIDTH = canvas.width;
					  HEIGHT = canvas.height;
					  x = 150;
					  y = 150;
					  dx = 2;
					  dy = 4;
					  radius = 10;
					  rightDown = false;
					  leftDown = false;
					  intervalId = 0;
					  count = 0;
					  currColor = "#000";
					  
					  intervalId = setInterval(draw, 10);
					  init_paddles();
					   
					}
				
					function circle(x,y,r) {
					  ctx.beginPath();
					  ctx.fillStyle="f00";
					  ctx.arc(x, y, r, 0, Math.PI*2, true);
					  ctx.closePath();
					  ctx.fill();
					}

					function rect(x,y,w,h) {
					  ctx.beginPath();
					  ctx.rect(x,y,w,h);
					  ctx.closePath();
					  ctx.fill();
					}

					function clear() {
					  ctx.clearRect(0, 0, WIDTH, HEIGHT);
					}

					function followBallAI() {
					
						//randomly pick number beteween 0 and 1
						var delayReaction = Math.random();
						
						//25% chance of reaction delay
						if(delayReaction >= 0.25) {
						
							if(x > paddlexAI + paddlew) {
								if(paddlexAI + paddlew + 5 <= WIDTH) {
									paddlexAI += 10;//paddlexAI = paddlexAI  5;
								}
							}
							
							else if(x < paddlexAI) {
								if(paddlexAI - 5 >= 0) {
									paddlexAI -= 10;
								}
							}
							
							else {
							
								var centerPaddle = Math.random();
							
								//80% chance of better centering the paddle
								//otherwise the paddleAI will most of the times
								//hit the ball in one of its extremities
								if(centerPaddle > 0.2) {
										
									//if ball closer to left side of computer paddle
									if( Math.abs(x - paddlexAI) < Math.abs(x - paddlexAI - paddlew) ) {
										if(paddlexAI - 5 >= 0) {
											paddlexAI -= 5;
										}
									}
											
									else {	
										if(paddlexAI + paddlew + 5 <= WIDTH) {
											paddlexAI += 5;
										}
									}
								}
							
							}
							
						}
						
					}
					
					function fire_bullet(){
						if (bulletFired == false){
							var bulletX = paddlex + paddlew/2 - (bulletW/2);
							var bulletY = paddley;
							bullets.push([bulletX, bulletY]);
							bulletFired = true;
						}
					}

					function drawSideLines() {
						 ctx.beginPath();
						 ctx.rect(0,0,10,HEIGHT);
					     ctx.fillStyle="00f";
					     ctx.closePath();
					     ctx.fill();
						 
						 ctx.beginPath();
						 ctx.rect(WIDTH - 10,0,10,HEIGHT);
					     ctx.closePath();
					     ctx.fill();
					}
					
					//END LIBRARY CODE

					function draw() {
						  clear();
						  circle(x, y, radius);

						  //move the paddle if left or right is currently pressed
						  
						  if (rightDown) {
							if(paddlex + paddlew + 5 <= WIDTH) {
								paddlex += 5;
							}
						  }
						  
						  else if (leftDown) {
							if(paddlex - 5 >= 0) {
								paddlex -= 5;
							}
						}
							else if (up) {
							//if(paddley - 5 >= 0) {
								paddley -= 5;
							//}
						}
							else if (down) {
							//if(paddley + 5 >= HEIGHT) {
								paddley += 5;
							//}
						  }
						  
						  followBallAI();
						  
						  drawSideLines();
						  if(count % 300 == 0){
							  currColor = get_random_color();
							  bulletFired = false;
							}
							ctx.fillStyle = currColor;
						  rect(paddlex, paddley, paddlew, paddleh);
						  rect(paddlexAI, 0, paddlew, paddleh);
						  
					  	ctx.fillStyle = "000";
						 
						 	for (var i = 0; i < bullets.length; i++){
						 		ctx.fillStyle = "C541D1";
						 		rect(bullets[i][0], bullets[i][1], bulletW, bulletH);
						 		if(paddlexAI < bullets[i][0] && bullets[i][0] < paddlexAI + paddlew){
									if(bullets[i][1] < paddleh){
							 			if(confirm("You win. play again?")){
							 				clearInterval(intervalId)
							 				init();
								 		}
								 	}
							 	}
						 		bullets[i][1] -= bulletDY;
						 		if(bullets[i][1] < 0){
						 			bullets.remove(i);
						 		} 
						 	}
						  if (x + dx + radius > WIDTH || x + dx - radius < 0)
							dx = -dx;

						  //upper lane
						  if (y + dy - radius <= 0) {
							
							if (x <= paddlexAI || x >= paddlexAI + paddlew) {
								//clearInterval(intervalId);
								//init();
							}
							
							else {
								dy = -dy;
							}
							
						  }
						  
						  //lower lane
						  //else if (y + dy + radius > HEIGHT) {
							if(dy > 0){
								if (x > paddlex && x < paddlex + paddlew) {
									if( paddley <= y && y <= paddley + paddleh){
										dx = 8 * ((x-(paddlex+paddlew/2))/paddlew);
										dy = -dy;
										dy=dy-0.2;

									}
								}
							}
							// else {
							//   clearInterval(intervalId);
							//   //init();
							//}
						  //}
						  
						  x += dx;
						  y += dy;
						  count++;
						}

						init();
	
				});  
	function get_random_color() {
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.round(Math.random() * 15)];
    }
    return color;
}
// Array Remove - By John Resig (MIT Licensed)
Array.prototype.remove = function(from, to) {
  var rest = this.slice((to || from) + 1 || this.length);
  this.length = from < 0 ? this.length + from : from;
  return this.push.apply(this, rest);
};

            </script>  
        </head>  
      
        <body> 
        <h1>A Pong Game Modified By Tillman Degens</h1> 
            <canvas id="myCanvas" width="720" height="500">  
                <!-- Insert fallback content here -->  
            </canvas>  
        </body>  
    </html>  